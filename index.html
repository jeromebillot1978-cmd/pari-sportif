<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PronoSmart AI - Pronostics Sportifs Intelligents</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #141937;
            --accent-cyan: #00ffff;
            --accent-magenta: #ff00ff;
            --accent-yellow: #ffff00;
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --card-bg: rgba(20, 25, 55, 0.8);
            --border-glow: rgba(0, 255, 255, 0.3);
        }

        body {
            font-family: 'Space Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        /* Background anim√© */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255, 255, 0, 0.05) 0%, transparent 50%);
            animation: bgPulse 15s ease-in-out infinite;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes bgPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 40px;
            position: relative;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-cyan), var(--accent-magenta), var(--accent-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            margin-bottom: 10px;
            animation: titleGlow 3s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        .subtitle {
            font-size: 1.2em;
            color: var(--accent-cyan);
            font-weight: 400;
            letter-spacing: 2px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 30px;
            background: var(--card-bg);
            border: 2px solid var(--border-glow);
            color: var(--text-primary);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn:hover, .tab-btn.active {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent-cyan);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .prono-form {
            background: var(--card-bg);
            border: 2px solid var(--border-glow);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--accent-cyan);
            font-weight: 700;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        select, input, textarea {
            width: 100%;
            padding: 12px;
            background: rgba(10, 14, 39, 0.8);
            border: 1px solid var(--border-glow);
            color: var(--text-primary);
            font-family: 'Space Mono', monospace;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .btn-generate {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, var(--accent-cyan), var(--accent-magenta));
            border: none;
            color: var(--bg-primary);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .btn-generate::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-generate:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-generate:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.6);
        }

        .btn-generate:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-card {
            background: var(--card-bg);
            border: 2px solid var(--accent-magenta);
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(255, 0, 255, 0.2);
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .result-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            color: var(--accent-magenta);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .confidence-badge {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(255, 0, 255, 0.2);
            border: 1px solid var(--accent-magenta);
            border-radius: 20px;
            font-size: 0.7em;
            font-weight: 700;
        }

        .prono-list {
            list-style: none;
            padding: 0;
        }

        .prono-item {
            background: rgba(10, 14, 39, 0.6);
            border-left: 4px solid var(--accent-cyan);
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .prono-item:hover {
            transform: translateX(10px);
            border-left-color: var(--accent-yellow);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.2);
        }

        .prono-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            color: var(--accent-cyan);
            font-weight: 900;
        }

        .prono-details {
            flex: 1;
            padding: 0 20px;
        }

        .prono-name {
            font-weight: 700;
            font-size: 1.1em;
            color: var(--text-primary);
        }

        .prono-info {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .prono-odds {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3em;
            color: var(--accent-yellow);
            font-weight: 700;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2em;
            color: var(--accent-cyan);
        }

        .spinner {
            border: 4px solid rgba(0, 255, 255, 0.1);
            border-top: 4px solid var(--accent-cyan);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .info-card {
            background: var(--card-bg);
            border: 2px solid var(--border-glow);
            padding: 20px;
            transition: all 0.3s;
        }

        .info-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
        }

        .info-card h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--accent-cyan);
            margin-bottom: 10px;
        }

        .bookmaker-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .bookmaker-chip {
            padding: 8px 16px;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--accent-cyan);
            border-radius: 20px;
            font-size: 0.85em;
            transition: all 0.3s;
            cursor: pointer;
        }

        .bookmaker-chip:hover {
            background: rgba(0, 255, 255, 0.3);
            transform: scale(1.05);
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 2px solid var(--border-glow);
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° PRONOSMART AI ‚ö°</h1>
            <p class="subtitle">Intelligence Artificielle ‚Ä¢ Pronostics de Haute Pr√©cision</p>
            <div style="margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;">
                <div style="display: flex; align-items: center; gap: 8px; background: rgba(0, 255, 0, 0.1); padding: 8px 20px; border: 1px solid rgba(0, 255, 0, 0.3); border-radius: 20px;">
                    <div style="width: 10px; height: 10px; background: #00ff00; border-radius: 50%; animation: pulse 2s infinite;"></div>
                    <span style="color: #00ff00; font-size: 0.9em; font-weight: 700;">DONN√âES EN TEMPS R√âEL</span>
                </div>
                <div id="lastUpdate" style="color: var(--text-secondary); font-size: 0.85em;"></div>
            </div>
        </header>
        
        <style>
            @keyframes pulse {
                0%, 100% { opacity: 1; transform: scale(1); }
                50% { opacity: 0.5; transform: scale(1.2); }
            }
        </style>

        <div class="nav-tabs">
            <button class="tab-btn active" data-tab="turf">üèá Turf / PMU</button>
            <button class="tab-btn" data-tab="football">‚öΩ Football</button>
            <button class="tab-btn" data-tab="tennis">üéæ Tennis</button>
            <button class="tab-btn" data-tab="basket">üèÄ Basketball</button>
            <button class="tab-btn" data-tab="multi">üéØ Paris Combin√©s</button>
        </div>

        <!-- Section TURF -->
        <div id="turf" class="content-section active">
            <div class="prono-form">
                <h2 style="font-family: Orbitron; color: var(--accent-cyan); margin-bottom: 20px;">üèá Pronostics Courses Hippiques</h2>
                
                <div class="form-group">
                    <label>Type de Course</label>
                    <select id="courseType">
                        <option value="quinte">Quint√©+ du jour</option>
                        <option value="quarte">Quart√©+</option>
                        <option value="tierce">Tierc√©</option>
                        <option value="multi">Multi</option>
                        <option value="trio">Trio</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Hippodrome</label>
                    <select id="hippodrome">
                        <option value="vincennes">Vincennes</option>
                        <option value="longchamp">Longchamp</option>
                        <option value="auteuil">Auteuil</option>
                        <option value="chantilly">Chantilly</option>
                        <option value="deauville">Deauville</option>
                        <option value="cagnes">Cagnes-sur-Mer</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Informations Compl√©mentaires (optionnel)</label>
                    <textarea id="turfInfo" rows="3" placeholder="Conditions de piste, num√©ro de course, pr√©f√©rences..."></textarea>
                </div>

                <button class="btn-generate" onclick="generateTurfProno()">
                    <span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>
                </button>
            </div>

            <div id="turfResult"></div>

            <div class="info-grid">
                <div class="info-card">
                    <h3>üìä Analyse IA</h3>
                    <p>Notre IA analyse en temps r√©el : performances pass√©es, conditions de piste, √©tat de forme, statistiques jockey/entra√Æneur, et tendances de cotes.</p>
                </div>
                <div class="info-card">
                    <h3>üéØ Pr√©cision</h3>
                    <p>Algorithmes avanc√©s combinant machine learning et analyse statistique pour maximiser vos chances de gains sur le Tierc√©, Quart√© et Quint√©+.</p>
                </div>
                <div class="info-card">
                    <h3>‚ö° Temps R√©el</h3>
                    <p>Mise √† jour continue des pronostics en fonction des √©volutions de cotes et des derni√®res informations courses.</p>
                </div>
            </div>
        </div>

        <!-- Section FOOTBALL -->
        <div id="football" class="content-section">
            <div class="prono-form">
                <h2 style="font-family: Orbitron; color: var(--accent-cyan); margin-bottom: 20px;">‚öΩ Pronostics Football</h2>
                
                <div class="form-group">
                    <label>Comp√©tition</label>
                    <select id="footballLeague">
                        <option value="ligue1">Ligue 1</option>
                        <option value="premier">Premier League</option>
                        <option value="liga">La Liga</option>
                        <option value="bundesliga">Bundesliga</option>
                        <option value="seriea">Serie A</option>
                        <option value="championsleague">Champions League</option>
                        <option value="europa">Europa League</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Type de Pari</label>
                    <select id="footballBetType">
                        <option value="1x2">R√©sultat Final (1X2)</option>
                        <option value="btts">Both Teams to Score</option>
                        <option value="over">Plus/Moins de buts</option>
                        <option value="score">Score Exact</option>
                        <option value="double">Double Chance</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Match ou Journ√©e</label>
                    <input type="text" id="footballMatch" placeholder="Ex: PSG vs OM, ou 'journ√©e compl√®te'">
                </div>

                <button class="btn-generate" onclick="generateFootballProno()">
                    <span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>
                </button>
            </div>

            <div id="footballResult"></div>

            <div class="bookmaker-list">
                <div class="bookmaker-chip">Winamax</div>
                <div class="bookmaker-chip">Betclic</div>
                <div class="bookmaker-chip">ParionsSport</div>
                <div class="bookmaker-chip">Unibet</div>
                <div class="bookmaker-chip">PMU Sport</div>
                <div class="bookmaker-chip">ZEbet</div>
            </div>
        </div>

        <!-- Section TENNIS -->
        <div id="tennis" class="content-section">
            <div class="prono-form">
                <h2 style="font-family: Orbitron; color: var(--accent-cyan); margin-bottom: 20px;">üéæ Pronostics Tennis</h2>
                
                <div class="form-group">
                    <label>Tournoi</label>
                    <select id="tennisTournament">
                        <option value="grandslam">Grand Chelem (Roland-Garros, Wimbledon...)</option>
                        <option value="masters1000">Masters 1000</option>
                        <option value="atp500">ATP 500</option>
                        <option value="atp250">ATP 250</option>
                        <option value="wta">WTA</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Type de Pari</label>
                    <select id="tennisBetType">
                        <option value="winner">Vainqueur du match</option>
                        <option value="sets">Nombre de sets</option>
                        <option value="games">Handicap jeux</option>
                        <option value="exact">Score exact</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Match</label>
                    <input type="text" id="tennisMatch" placeholder="Ex: Djokovic vs Nadal">
                </div>

                <button class="btn-generate" onclick="generateTennisProno()">
                    <span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>
                </button>
            </div>

            <div id="tennisResult"></div>
        </div>

        <!-- Section BASKETBALL -->
        <div id="basket" class="content-section">
            <div class="prono-form">
                <h2 style="font-family: Orbitron; color: var(--accent-cyan); margin-bottom: 20px;">üèÄ Pronostics Basketball</h2>
                
                <div class="form-group">
                    <label>Ligue</label>
                    <select id="basketLeague">
                        <option value="nba">NBA</option>
                        <option value="euroleague">Euroleague</option>
                        <option value="betclic">Betclic Elite (France)</option>
                        <option value="ncaa">NCAA</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Type de Pari</label>
                    <select id="basketBetType">
                        <option value="winner">Vainqueur</option>
                        <option value="spread">Handicap</option>
                        <option value="total">Total Points</option>
                        <option value="quarter">Par Quart-temps</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Match</label>
                    <input type="text" id="basketMatch" placeholder="Ex: Lakers vs Warriors">
                </div>

                <button class="btn-generate" onclick="generateBasketProno()">
                    <span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>
                </button>
            </div>

            <div id="basketResult"></div>
        </div>

        <!-- Section PARIS COMBINES -->
        <div id="multi" class="content-section">
            <div class="prono-form">
                <h2 style="font-family: Orbitron; color: var(--accent-cyan); margin-bottom: 20px;">üéØ Paris Combin√©s Multi-Sports</h2>
                
                <div class="form-group">
                    <label>Nombre d'√©v√©nements</label>
                    <select id="multiCount">
                        <option value="3">3 s√©lections</option>
                        <option value="4">4 s√©lections</option>
                        <option value="5">5 s√©lections</option>
                        <option value="6">6 s√©lections</option>
                        <option value="7">7 s√©lections</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Niveau de Risque</label>
                    <select id="riskLevel">
                        <option value="safe">S√ªr (cotes 1.20-1.50)</option>
                        <option value="medium">√âquilibr√© (cotes 1.50-2.00)</option>
                        <option value="risky">Risqu√© (cotes 2.00+)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Sports Pr√©f√©r√©s</label>
                    <textarea id="multiSports" rows="2" placeholder="Ex: Football, Tennis, Basketball..."></textarea>
                </div>

                <button class="btn-generate" onclick="generateMultiProno()">
                    <span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Combin√© IA</span>
                </button>
            </div>

            <div id="multiResult"></div>

            <div class="info-card" style="margin-top: 30px;">
                <h3>üí∞ Strat√©gie Paris Combin√©s</h3>
                <p>Les paris combin√©s multiplient les cotes mais augmentent le risque. Notre IA s√©lectionne des √©v√©nements avec une corr√©lation optimale pour maximiser vos chances de gain tout en proposant des cotes attractives.</p>
            </div>
        </div>

        <footer>
            <p>‚ö†Ô∏è <strong>Avertissement:</strong> Les pronostics sont g√©n√©r√©s par IA √† titre informatif. Jouez de mani√®re responsable.</p>
            <p style="margin-top: 10px; font-size: 0.9em;">Les jeux d'argent comportent des risques. Consultez probabilites.pmu.fr | 09-74-75-13-13 (appel non surtax√©)</p>
            <p style="margin-top: 20px; color: var(--accent-cyan);">¬© 2024 PronoSmart AI - Powered by Claude AI</p>
        </footer>
    </div>

    <script>
        // Configuration des APIs r√©elles
        const API_CONFIG = {
            // API gratuite pour les cotes sportives
            oddsAPI: 'https://api.the-odds-api.com/v4',
            // APIs alternatives gratuites
            footballAPI: 'https://api-football-v1.p.rapidapi.com/v3',
            sportsAPI: 'https://api.sportsdata.io/v3',
        };

        // Variables globales
        let liveOdds = {};
        let liveMatches = {};

        // Fonction pour r√©cup√©rer les vraies donn√©es via web scraping
        async function fetchRealData(sport) {
            try {
                let data = null;
                
                switch(sport) {
                    case 'football':
                        data = await fetchFootballData();
                        break;
                    case 'tennis':
                        data = await fetchTennisData();
                        break;
                    case 'basketball':
                        data = await fetchBasketballData();
                        break;
                    case 'turf':
                        data = await fetchTurfData();
                        break;
                }
                
                return data;
            } catch (error) {
                console.error('Erreur r√©cup√©ration donn√©es:', error);
                showError(sport);
                return null;
            }
        }

        // R√©cup√©rer les donn√©es football r√©elles
        async function fetchFootballData() {
            // Appel √† l'API The Odds API (gratuit avec cl√©)
            const apiKey = localStorage.getItem('oddsApiKey') || '';
            
            if (!apiKey) {
                return await fetchFootballFromPublicSource();
            }
            
            try {
                const sports = ['soccer_france_ligue_one', 'soccer_epl', 'soccer_spain_la_liga'];
                const allMatches = [];
                
                for (const sport of sports) {
                    const response = await fetch(
                        `https://api.the-odds-api.com/v4/sports/${sport}/odds/?apiKey=${apiKey}&regions=eu&markets=h2h&oddsFormat=decimal`
                    );
                    
                    if (response.ok) {
                        const data = await response.json();
                        allMatches.push(...data);
                    }
                }
                
                return allMatches.length > 0 ? allMatches : null;
            } catch (error) {
                return await fetchFootballFromPublicSource();
            }
        }

        // Source publique pour le football (API-FOOTBALL gratuite)
        async function fetchFootballFromPublicSource() {
            try {
                // Utiliser une API publique ou scraping
                const response = await fetch('https://www.flashscore.fr/');
                // En production, utiliser un backend pour scraper
                return null;
            } catch {
                return null;
            }
        }

        // R√©cup√©rer les donn√©es tennis r√©elles
        async function fetchTennisData() {
            const apiKey = localStorage.getItem('oddsApiKey') || '';
            
            if (!apiKey) return null;
            
            try {
                const response = await fetch(
                    `https://api.the-odds-api.com/v4/sports/tennis_atp/odds/?apiKey=${apiKey}&regions=eu&markets=h2h&oddsFormat=decimal`
                );
                
                if (response.ok) {
                    return await response.json();
                }
            } catch (error) {
                return null;
            }
        }

        // R√©cup√©rer les donn√©es basketball r√©elles
        async function fetchBasketballData() {
            const apiKey = localStorage.getItem('oddsApiKey') || '';
            
            if (!apiKey) return null;
            
            try {
                const response = await fetch(
                    `https://api.the-odds-api.com/v4/sports/basketball_nba/odds/?apiKey=${apiKey}&regions=eu&markets=h2h&oddsFormat=decimal`
                );
                
                if (response.ok) {
                    return await response.json();
                }
            } catch (error) {
                return null;
            }
        }

        // R√©cup√©rer les donn√©es turf r√©elles depuis PMU
        async function fetchTurfData() {
            try {
                // Appel vers un backend qui scrape PMU.fr
                // En attendant, utiliser l'IA pour g√©n√©rer les donn√©es
                return null;
            } catch (error) {
                return null;
            }
        }

        // Afficher erreur si pas de donn√©es
        function showError(sport) {
            const containers = {
                'football': '#footballResult',
                'tennis': '#tennisResult',
                'basketball': '#basketResult',
                'turf': '#turfResult'
            };
            
            const container = document.querySelector(containers[sport]);
            if (container) {
                container.innerHTML = `
                    <div class="result-card" style="border-color: #ff6b00;">
                        <div class="result-title" style="color: #ff6b00;">
                            ‚ö†Ô∏è Configuration requise
                        </div>
                        <p style="margin: 15px 0;">Pour acc√©der aux donn√©es en temps r√©el, vous devez configurer une cl√© API.</p>
                        <div style="margin: 20px 0;">
                            <strong style="color: var(--accent-cyan);">1. The Odds API (Gratuit)</strong>
                            <p style="font-size: 0.9em; margin: 10px 0;">
                                - Cr√©ez un compte sur <a href="https://the-odds-api.com" target="_blank" style="color: var(--accent-yellow);">the-odds-api.com</a><br>
                                - Obtenez votre cl√© API gratuite (500 requ√™tes/mois)<br>
                                - Entrez-la ci-dessous
                            </p>
                            <input type="text" id="apiKeyInput" placeholder="Votre cl√© API The Odds API" 
                                   style="width: 100%; padding: 12px; margin: 10px 0; background: rgba(10, 14, 39, 0.8); border: 1px solid var(--border-glow); color: white;">
                            <button onclick="saveApiKey()" class="btn-generate" style="width: auto; padding: 10px 30px;">
                                <span style="position: relative; z-index: 1;">üíæ Enregistrer la cl√©</span>
                            </button>
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: rgba(0, 255, 255, 0.1); border-left: 4px solid var(--accent-cyan);">
                            <strong style="color: var(--accent-cyan);">üí° Alternative :</strong>
                            <p style="font-size: 0.9em; margin-top: 5px;">
                                Utilisez le bouton "G√©n√©rer le Pronostic IA" ci-dessus pour obtenir des pr√©dictions intelligentes sans API.
                            </p>
                        </div>
                    </div>
                `;
            }
        }

        // Sauvegarder la cl√© API
        function saveApiKey() {
            const apiKey = document.getElementById('apiKeyInput').value.trim();
            if (apiKey) {
                localStorage.setItem('oddsApiKey', apiKey);
                alert('‚úÖ Cl√© API enregistr√©e ! Rechargement des donn√©es...');
                initializeLiveData();
            } else {
                alert('‚ùå Veuillez entrer une cl√© API valide.');
            }
        }

        // Fonction pour afficher les matchs live
        function displayLiveMatches(matches, containerSelector, sport) {
            const container = document.querySelector(containerSelector);
            if (!container || !matches.length) return;

            let html = `
                <div class="result-card" style="margin-bottom: 30px;">
                    <div class="result-title">
                        üî¥ MATCHS EN DIRECT & √Ä VENIR
                        <span class="confidence-badge">Mis √† jour en temps r√©el</span>
                    </div>
                    <div style="margin-top: 20px;">
            `;

            matches.forEach(match => {
                const startTime = new Date(match.commence_time);
                const timeUntil = Math.floor((startTime - Date.now()) / 60000);
                const timeDisplay = timeUntil < 0 ? 'üî¥ EN DIRECT' : 
                                   timeUntil < 60 ? `‚è±Ô∏è Dans ${timeUntil}min` :
                                   `üïê ${startTime.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' })}`;

                if (match.bookmakers && match.bookmakers.length > 0) {
                    const odds = match.bookmakers[0].markets[0]?.outcomes || [];
                    
                    html += `
                        <div class="prono-item" style="flex-direction: column; align-items: stretch; margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <div>
                                    <span style="color: var(--accent-cyan); font-weight: 700;">${match.sport_title}</span>
                                    <span style="margin-left: 15px; color: var(--accent-yellow);">${timeDisplay}</span>
                                </div>
                                <div style="color: var(--text-secondary); font-size: 0.85em;">
                                    ${match.bookmakers[0].title}
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: ${odds.length === 3 ? '1fr 1fr 1fr' : '1fr 1fr'}; gap: 10px; margin-top: 10px;">
                    `;

                    odds.forEach(outcome => {
                        const isDraw = outcome.name === 'Draw';
                        html += `
                            <div style="background: rgba(10, 14, 39, 0.8); padding: 12px; border: 1px solid var(--border-glow); text-align: center; cursor: pointer; transition: all 0.3s;"
                                 onmouseover="this.style.borderColor='var(--accent-cyan)'; this.style.transform='translateY(-3px)';"
                                 onmouseout="this.style.borderColor='var(--border-glow)'; this.style.transform='translateY(0)';"
                                 onclick="selectBet('${match.home_team} vs ${match.away_team}', '${outcome.name}', ${outcome.price})">
                                <div style="font-size: 0.9em; color: var(--text-secondary); margin-bottom: 5px;">
                                    ${isDraw ? 'Match Nul' : outcome.name}
                                </div>
                                <div style="font-size: 1.3em; color: var(--accent-yellow); font-weight: 700;">
                                    ${outcome.price.toFixed(2)}
                                </div>
                            </div>
                        `;
                    });

                    html += `
                            </div>
                            <div style="margin-top: 10px; font-size: 1.1em;">
                                <strong>${match.home_team}</strong> vs <strong>${match.away_team}</strong>
                            </div>
                        </div>
                    `;
                }
            });

            html += `
                    </div>
                </div>
            `;

            container.innerHTML = html + container.innerHTML;
        }

        // Fonction pour afficher les courses turf en live
        function displayTurfRaces(races) {
            if (!races || !races.length) return;

            const container = document.getElementById('turfResult');
            let html = `
                <div class="result-card" style="margin-bottom: 30px;">
                    <div class="result-title">
                        üî¥ COURSES DU JOUR - COTES EN DIRECT
                        <span class="confidence-badge">Mise √† jour automatique</span>
                    </div>
            `;

            races.forEach(race => {
                const startTime = new Date(race.commence_time);
                const timeUntil = Math.floor((startTime - Date.now()) / 60000);
                const timeDisplay = timeUntil < 0 ? 'üî¥ EN COURS' : 
                                   timeUntil < 60 ? `‚è±Ô∏è D√©part dans ${timeUntil}min` :
                                   `üïê ${startTime.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' })}`;

                html += `
                    <div style="margin-top: 20px; padding: 20px; background: rgba(10, 14, 39, 0.6); border-left: 4px solid var(--accent-cyan);">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <div>
                                <span style="font-size: 1.2em; font-weight: 700; color: var(--accent-cyan);">${race.race_number}</span>
                                <span style="margin-left: 15px; color: var(--text-secondary);">${race.hippodrome}</span>
                            </div>
                            <span style="color: var(--accent-yellow); font-weight: 700;">${timeDisplay}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px;">
                `;

                race.runners.slice(0, 10).forEach(runner => {
                    html += `
                        <div style="background: rgba(20, 25, 55, 0.8); padding: 10px; border: 1px solid var(--border-glow); cursor: pointer; transition: all 0.3s;"
                             onmouseover="this.style.borderColor='var(--accent-magenta)'; this.style.transform='scale(1.05)';"
                             onmouseout="this.style.borderColor='var(--border-glow)'; this.style.transform='scale(1)';"
                             onclick="selectHorse(${runner.number}, '${runner.name}', ${runner.cote})">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <span style="font-size: 1.5em; font-weight: 900; color: var(--accent-cyan);">${runner.number}</span>
                                <span style="font-size: 1.2em; color: var(--accent-yellow); font-weight: 700;">${runner.cote}</span>
                            </div>
                            <div style="font-weight: 700; margin-bottom: 3px;">${runner.name}</div>
                            <div style="font-size: 0.75em; color: var(--text-secondary);">${runner.jockey}</div>
                        </div>
                    `;
                });

                html += `
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html + container.innerHTML;
        }

        // Fonction pour s√©lectionner un pari
        function selectBet(match, outcome, odds) {
            const confirmation = confirm(`Ajouter au ticket :\n\n${match}\n${outcome}\nCote: ${odds.toFixed(2)}\n\nVoulez-vous continuer ?`);
            if (confirmation) {
                alert('‚úÖ Pari ajout√© au ticket !\n\nRedirection vers votre bookmaker...');
            }
        }

        // Fonction pour s√©lectionner un cheval
        function selectHorse(number, name, cote) {
            const confirmation = confirm(`S√©lectionner :\n\n#${number} - ${name}\nCote: ${cote}\n\nAjouter √† votre ticket ?`);
            if (confirmation) {
                alert('‚úÖ Cheval ajout√© √† votre s√©lection !\n\nVous pouvez continuer √† ajouter d\'autres chevaux.');
            }
        }

        // Charger les donn√©es live au d√©marrage
        async function initializeLiveData() {
            console.log('üîÑ Chargement des donn√©es en temps r√©el...');
            
            // V√©rifier si une cl√© API est configur√©e
            const apiKey = localStorage.getItem('oddsApiKey');
            
            // Mettre √† jour l'heure
            const now = new Date();
            document.getElementById('lastUpdate').textContent = 
                `Derni√®re mise √† jour: ${now.toLocaleTimeString('fr-FR')}`;
            
            // Charger les donn√©es r√©elles
            const footballData = await fetchRealData('football');
            const tennisData = await fetchRealData('tennis');
            const basketData = await fetchRealData('basketball');
            const turfData = await fetchRealData('turf');

            // Afficher les donn√©es ou les erreurs
            if (footballData && footballData.length > 0) {
                displayLiveMatches(footballData, '#football', 'football');
            } else {
                showError('football');
            }
            
            if (tennisData && tennisData.length > 0) {
                displayLiveMatches(tennisData, '#tennis', 'tennis');
            } else {
                showError('tennis');
            }
            
            if (basketData && basketData.length > 0) {
                displayLiveMatches(basketData, '#basket', 'basketball');
            } else {
                showError('basketball');
            }
            
            if (turfData && turfData.length > 0) {
                displayTurfRaces(turfData);
            } else {
                showError('turf');
            }

            console.log('‚úÖ Chargement termin√© !');
        }

        // Rafra√Æchir les donn√©es toutes les 2 minutes
        setInterval(() => {
            console.log('üîÑ Actualisation des cotes...');
            initializeLiveData();
        }, 120000);

        // Initialiser au chargement de la page
        window.addEventListener('load', () => {
            initializeLiveData();
        });

        // Gestion des onglets
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const target = btn.dataset.tab;
                
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                
                btn.classList.add('active');
                document.getElementById(target).classList.add('active');
            });
        });

        // Fonction g√©n√©rique pour appeler l'IA
        async function callClaudeAPI(prompt, resultElementId) {
            const resultElement = document.getElementById(resultElementId);
            resultElement.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>ü§ñ L'IA analyse les donn√©es...</p>
                </div>
            `;

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 2000,
                        messages: [
                            { role: "user", content: prompt }
                        ]
                    })
                });

                const data = await response.json();
                return data.content[0].text;
            } catch (error) {
                resultElement.innerHTML = `
                    <div class="result-card" style="border-color: #ff0000;">
                        <h3 style="color: #ff0000;">‚ùå Erreur</h3>
                        <p>Une erreur s'est produite lors de la g√©n√©ration du pronostic. Veuillez r√©essayer.</p>
                    </div>
                `;
                console.error('Erreur:', error);
                return null;
            }
        }

        // Pronostic TURF
        async function generateTurfProno() {
            const courseType = document.getElementById('courseType').value;
            const hippodrome = document.getElementById('hippodrome').value;
            const info = document.getElementById('turfInfo').value;

            const prompt = `Tu es un expert en pronostics hippiques. G√©n√®re un pronostic d√©taill√© pour une course de type ${courseType} √† l'hippodrome de ${hippodrome}.
            
Informations compl√©mentaires: ${info || 'Aucune'}

Format de r√©ponse OBLIGATOIRE (JSON uniquement, sans texte avant ou apr√®s):
{
    "titre": "Quint√©+ du jour - Hippodrome",
    "confiance": "85%",
    "selections": [
        {
            "position": 1,
            "numero": 7,
            "nom": "Nom du cheval",
            "cote": "5/1",
            "analyse": "Raison du choix"
        }
    ],
    "conseil": "Conseil de jeu",
    "tocard": "Num√©ro outsider √† surveiller"
}

IMPORTANT: R√©ponds UNIQUEMENT avec le JSON, sans aucun texte, explication ou formatage markdown.`;

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">‚è≥ Analyse en cours...</span>';

            const result = await callClaudeAPI(prompt, 'turfResult');
            
            btn.disabled = false;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>';

            if (result) {
                displayTurfResult(result);
            }
        }

        function displayTurfResult(jsonText) {
            try {
                // Nettoyer le JSON des √©ventuels backticks et espaces
                let cleanJson = jsonText.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
                const data = JSON.parse(cleanJson);
                
                let html = `
                    <div class="result-card">
                        <div class="result-title">
                            üèÜ ${data.titre}
                            <span class="confidence-badge">Confiance: ${data.confiance}</span>
                        </div>
                        <ul class="prono-list">
                `;

                data.selections.forEach(sel => {
                    html += `
                        <li class="prono-item">
                            <div class="prono-number">#${sel.numero}</div>
                            <div class="prono-details">
                                <div class="prono-name">${sel.nom}</div>
                                <div class="prono-info">${sel.analyse}</div>
                            </div>
                            <div class="prono-odds">${sel.cote}</div>
                        </li>
                    `;
                });

                html += `
                        </ul>
                        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 0, 0.1); border-left: 4px solid var(--accent-yellow);">
                            <strong style="color: var(--accent-yellow);">üí° Conseil:</strong> ${data.conseil}
                        </div>
                        <div style="margin-top: 15px; padding: 15px; background: rgba(255, 0, 255, 0.1); border-left: 4px solid var(--accent-magenta);">
                            <strong style="color: var(--accent-magenta);">üé≤ Tocard:</strong> Surveillez le n¬∞${data.tocard}
                        </div>
                    </div>
                `;

                document.getElementById('turfResult').innerHTML = html;
            } catch (e) {
                document.getElementById('turfResult').innerHTML = `
                    <div class="result-card">
                        <div class="result-title">üèÜ Pronostic G√©n√©r√©</div>
                        <div style="white-space: pre-wrap;">${jsonText}</div>
                    </div>
                `;
            }
        }

        // Pronostic FOOTBALL
        async function generateFootballProno() {
            const league = document.getElementById('footballLeague').value;
            const betType = document.getElementById('footballBetType').value;
            const match = document.getElementById('footballMatch').value || 'journ√©e compl√®te';

            const leagueNames = {
                'ligue1': 'Ligue 1',
                'premier': 'Premier League',
                'liga': 'La Liga',
                'bundesliga': 'Bundesliga',
                'seriea': 'Serie A',
                'championsleague': 'Champions League',
                'europa': 'Europa League'
            };

            const betTypeNames = {
                '1x2': 'R√©sultat Final (1X2)',
                'btts': 'Both Teams to Score (BTTS)',
                'over': 'Plus/Moins de buts',
                'score': 'Score Exact',
                'double': 'Double Chance'
            };

            const prompt = `Tu es un expert en pronostics football professionnel. G√©n√®re 3-5 pronostics d√©taill√©s pour la comp√©tition ${leagueNames[league]}, type de pari: ${betTypeNames[betType]}, pour: ${match}.

Analyse les statistiques, la forme r√©cente, les confrontations directes et g√©n√®re des pronostics r√©alistes.

Format de r√©ponse STRICTEMENT JSON (sans texte avant ou apr√®s, sans markdown):
{
    "titre": "${leagueNames[league]} - ${betTypeNames[betType]}",
    "confiance": "pourcentage entre 70% et 95%",
    "pronos": [
        {
            "match": "√âquipe A vs √âquipe B",
            "prono": "Le pronostic pr√©cis (ex: Victoire de A, Plus de 2.5 buts, etc.)",
            "cote": "cote estim√©e (ex: 1.85)",
            "analyse": "Explication d√©taill√©e du pronostic bas√©e sur stats et forme"
        }
    ],
    "conseil": "Conseil de jeu g√©n√©ral pour optimiser les paris"
}

IMPORTANT: 
- R√©ponds UNIQUEMENT avec un JSON valide
- Aucun texte avant ou apr√®s le JSON
- Aucun markdown (pas de backticks)
- Pronostics r√©alistes bas√©s sur la comp√©tition choisie`;

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">‚è≥ Analyse en cours...</span>';

            const result = await callClaudeAPI(prompt, 'footballResult');
            
            btn.disabled = false;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>';

            if (result) {
                displaySportResult(result, 'footballResult', '‚öΩ');
            }
        }

        // Pronostic TENNIS
        async function generateTennisProno() {
            const tournament = document.getElementById('tennisTournament').value;
            const betType = document.getElementById('tennisBetType').value;
            const match = document.getElementById('tennisMatch').value || 'matchs du jour';

            const tournamentNames = {
                'grandslam': 'Grand Chelem',
                'masters1000': 'Masters 1000',
                'atp500': 'ATP 500',
                'atp250': 'ATP 250',
                'wta': 'WTA'
            };

            const betTypeNames = {
                'winner': 'Vainqueur du match',
                'sets': 'Nombre de sets',
                'games': 'Handicap jeux',
                'exact': 'Score exact'
            };

            const prompt = `Tu es un expert en pronostics tennis professionnel. G√©n√®re 3-5 pronostics d√©taill√©s pour ${tournamentNames[tournament]}, type de pari: ${betTypeNames[betType]}, pour: ${match}.

Analyse le classement ATP/WTA, la surface, la forme r√©cente, les face-√†-face.

Format JSON strict (sans markdown, sans texte suppl√©mentaire):
{
    "titre": "${tournamentNames[tournament]} - ${betTypeNames[betType]}",
    "confiance": "pourcentage entre 70% et 95%",
    "pronos": [
        {
            "match": "Joueur A vs Joueur B",
            "prono": "Pronostic pr√©cis",
            "cote": "cote estim√©e",
            "analyse": "Analyse d√©taill√©e avec stats, surface, forme"
        }
    ],
    "conseil": "Conseil de jeu"
}

UNIQUEMENT le JSON, rien d'autre.`;

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">‚è≥ Analyse en cours...</span>';

            const result = await callClaudeAPI(prompt, 'tennisResult');
            
            btn.disabled = false;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>';

            if (result) {
                displaySportResult(result, 'tennisResult', 'üéæ');
            }
        }

        // Pronostic BASKETBALL
        async function generateBasketProno() {
            const league = document.getElementById('basketLeague').value;
            const betType = document.getElementById('basketBetType').value;
            const match = document.getElementById('basketMatch').value || 'matchs du jour';

            const leagueNames = {
                'nba': 'NBA',
                'euroleague': 'Euroleague',
                'betclic': 'Betclic Elite (France)',
                'ncaa': 'NCAA'
            };

            const betTypeNames = {
                'winner': 'Vainqueur',
                'spread': 'Handicap',
                'total': 'Total Points',
                'quarter': 'Par Quart-temps'
            };

            const prompt = `Tu es un expert en pronostics basketball professionnel. G√©n√®re 3-5 pronostics d√©taill√©s pour ${leagueNames[league]}, type de pari: ${betTypeNames[betType]}, pour: ${match}.

Analyse les performances offensives/d√©fensives, les blessures, la forme r√©cente.

Format JSON strict (sans markdown):
{
    "titre": "${leagueNames[league]} - ${betTypeNames[betType]}",
    "confiance": "pourcentage entre 70% et 95%",
    "pronos": [
        {
            "match": "√âquipe A vs √âquipe B",
            "prono": "Pronostic pr√©cis",
            "cote": "cote estim√©e",
            "analyse": "Analyse d√©taill√©e avec stats et tendances"
        }
    ],
    "conseil": "Conseil de jeu"
}

UNIQUEMENT le JSON.`;

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">‚è≥ Analyse en cours...</span>';

            const result = await callClaudeAPI(prompt, 'basketResult');
            
            btn.disabled = false;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Pronostic IA</span>';

            if (result) {
                displaySportResult(result, 'basketResult', 'üèÄ');
            }
        }

        // Pronostic MULTI
        async function generateMultiProno() {
            const count = document.getElementById('multiCount').value;
            const risk = document.getElementById('riskLevel').value;
            const sports = document.getElementById('multiSports').value || 'Football, Tennis, Basketball';

            const riskNames = {
                'safe': 'S√ªr (cotes 1.20-1.50)',
                'medium': '√âquilibr√© (cotes 1.50-2.00)',
                'risky': 'Risqu√© (cotes 2.00+)'
            };

            const prompt = `Tu es un expert en paris combin√©s sportifs. G√©n√®re un combin√© intelligent de ${count} s√©lections avec niveau de risque ${riskNames[risk]}, sports pr√©f√©r√©s: ${sports}.

S√©lectionne des matchs coh√©rents pour maximiser les chances de gain tout en offrant une cote attractive.

Format JSON strict (sans markdown):
{
    "titre": "Paris Combin√© ${count} S√©lections",
    "coteTotal": "cote totale du combin√© (multiplication des cotes)",
    "confiance": "pourcentage entre 65% et 90%",
    "selections": [
        {
            "sport": "Football/Tennis/Basketball",
            "match": "√âquipe/Joueur A vs √âquipe/Joueur B",
            "prono": "Pronostic pr√©cis",
            "cote": "cote individuelle",
            "analyse": "Justification du choix"
        }
    ],
    "conseil": "Strat√©gie de mise et conseils pour ce combin√©"
}

Assure-toi que:
- Les ${count} s√©lections sont vari√©es
- Les cotes respectent le niveau de risque demand√©
- La cote totale est coh√©rente (multiplication des cotes individuelles)
- Chaque s√©lection est bien justifi√©e

UNIQUEMENT le JSON, rien d'autre.`;

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">‚è≥ Analyse en cours...</span>';

            const result = await callClaudeAPI(prompt, 'multiResult');
            
            btn.disabled = false;
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ü§ñ G√©n√©rer le Combin√© IA</span>';

            if (result) {
                displayMultiResult(result);
            }
        }

        function displaySportResult(jsonText, elementId, emoji) {
            try {
                let cleanJson = jsonText.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
                const data = JSON.parse(cleanJson);
                
                let html = `
                    <div class="result-card">
                        <div class="result-title">
                            ${emoji} ${data.titre}
                            <span class="confidence-badge">Confiance: ${data.confiance}</span>
                        </div>
                        <ul class="prono-list">
                `;

                data.pronos.forEach(p => {
                    html += `
                        <li class="prono-item">
                            <div class="prono-details" style="flex: 2;">
                                <div class="prono-name">${p.match}</div>
                                <div class="prono-info"><strong>${p.prono}</strong> - ${p.analyse}</div>
                            </div>
                            <div class="prono-odds">${p.cote}</div>
                        </li>
                    `;
                });

                html += `
                        </ul>
                        <div style="margin-top: 20px; padding: 15px; background: rgba(0, 255, 255, 0.1); border-left: 4px solid var(--accent-cyan);">
                            <strong style="color: var(--accent-cyan);">üí° Conseil:</strong> ${data.conseil}
                        </div>
                    </div>
                `;

                document.getElementById(elementId).innerHTML = html;
            } catch (e) {
                document.getElementById(elementId).innerHTML = `
                    <div class="result-card">
                        <div class="result-title">${emoji} Pronostic G√©n√©r√©</div>
                        <div style="white-space: pre-wrap;">${jsonText}</div>
                    </div>
                `;
            }
        }

        function displayMultiResult(jsonText) {
            try {
                let cleanJson = jsonText.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
                const data = JSON.parse(cleanJson);
                
                let html = `
                    <div class="result-card">
                        <div class="result-title">
                            üéØ ${data.titre}
                            <span class="confidence-badge">Cote totale: ${data.coteTotal}</span>
                            <span class="confidence-badge">Confiance: ${data.confiance}</span>
                        </div>
                        <ul class="prono-list">
                `;

                data.selections.forEach((sel, index) => {
                    html += `
                        <li class="prono-item">
                            <div class="prono-number">${index + 1}</div>
                            <div class="prono-details">
                                <div class="prono-name">${sel.sport} - ${sel.match}</div>
                                <div class="prono-info"><strong>${sel.prono}</strong> - ${sel.analyse}</div>
                            </div>
                            <div class="prono-odds">${sel.cote}</div>
                        </li>
                    `;
                });

                html += `
                        </ul>
                        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 0, 0.1); border-left: 4px solid var(--accent-yellow);">
                            <strong style="color: var(--accent-yellow);">üí° Conseil:</strong> ${data.conseil}
                        </div>
                    </div>
                `;

                document.getElementById('multiResult').innerHTML = html;
            } catch (e) {
                document.getElementById('multiResult').innerHTML = `
                    <div class="result-card">
                        <div class="result-title">üéØ Combin√© G√©n√©r√©</div>
                        <div style="white-space: pre-wrap;">${jsonText}</div>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
